<Window x:Class="GlaDOS_v1_0.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="GlaDOS_v1_0"
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowState="Maximized"
        Background="#0B0B0C">

	<!-- Resources -->
	<Window.Resources>
		<!-- Brushes -->
		<SolidColorBrush x:Key="IrisBrush" Color="#FF9900" />
		<SolidColorBrush x:Key="RingBrush" Color="#99CCFF" />

		<Storyboard x:Key="IrisLookAround">
			<DoubleAnimationUsingKeyFrames Storyboard.TargetName="IrisMoveTransform"
                                   Storyboard.TargetProperty="X" RepeatBehavior="Forever">
				<LinearDoubleKeyFrame Value="10" KeyTime="0:0:1"/>
				<LinearDoubleKeyFrame Value="-10" KeyTime="0:0:2"/>
				<LinearDoubleKeyFrame Value="0" KeyTime="0:0:3"/>
			</DoubleAnimationUsingKeyFrames>

			<DoubleAnimationUsingKeyFrames Storyboard.TargetName="IrisMoveTransform"
                                   Storyboard.TargetProperty="Y" RepeatBehavior="Forever">
				<LinearDoubleKeyFrame Value="5" KeyTime="0:0:1.5"/>
				<LinearDoubleKeyFrame Value="-5" KeyTime="0:0:2.5"/>
				<LinearDoubleKeyFrame Value="0" KeyTime="0:0:3.5"/>
			</DoubleAnimationUsingKeyFrames>
		</Storyboard>

		<!-- Show Speech Overlay -->
		<Storyboard x:Key="ShowSpeech">
			<DoubleAnimation
				Storyboard.TargetName="SpeechOverlay"
				Storyboard.TargetProperty="Opacity"
				From="0" To="1"
				Duration="0:0:0.3"
				FillBehavior="HoldEnd" />
		</Storyboard>

		<!-- Hide Speech Overlay -->
		<Storyboard x:Key="HideSpeech">
			<DoubleAnimation
			Storyboard.TargetName="SpeechOverlay"
			Storyboard.TargetProperty="Opacity"
			From="1" To="0"
			Duration="0:0:0.3"
			FillBehavior="HoldEnd" />
		</Storyboard>

		<Storyboard x:Key="OpenEyeAnimation">
			<DoubleAnimation Storyboard.TargetName="IrisScale"
                     Storyboard.TargetProperty="ScaleY"
                     From="0" To="1" Duration="0:0:1" />
		</Storyboard>

	</Window.Resources>

	<!-- Layout Root -->
	<Grid RenderTransformOrigin="0.5,0.5" Width="2439" Height="838">

		<Grid.RenderTransform>
			<TransformGroup>
				<ScaleTransform/>
				<SkewTransform/>
				<RotateTransform Angle="-0.049"/>
				<TranslateTransform/>
			</TransformGroup>
		</Grid.RenderTransform>
		<Grid.RowDefinitions>
			<RowDefinition Height="299*" />
			<RowDefinition Height="158*"/>
			<RowDefinition Height="Auto" MinHeight="0" />
		</Grid.RowDefinitions>

		<!-- Info Panel (Top-Left Corner) -->
		<Border HorizontalAlignment="Left" VerticalAlignment="Top" Margin="3,2,0,0"
        Background="#AA1E1E1E" CornerRadius="12"
        Padding="10" Width="612" Height="286">
			<StackPanel>

				<TextBlock Text="🔧 System information" 
                   FontSize="25" FontWeight="Bold" Foreground="White"/>

				<TextBlock x:Name="PersonalityText"
					Text="🧠 Personality: none" 
					FontSize="22" 
				    Foreground="#CCCCCC" 
					Margin="0,2,0,0"/>

				<TextBlock Text="🤖 Large Language Model (LLM): llama-2-7b.Q5_K_M.gguf" 
                   FontSize="22" Foreground="#CCCCCC" Margin="0,2,0,0"/>

				<TextBlock Text="🎤 Speech recognition model: vosk-model-small-en-us-0.15"
                   FontSize="22" Foreground="#CCCCCC" Margin="0,2,0,0"/>

				<TextBlock Text="🧑 Emotion recognition model: emotion-ferplus-8.onnx"
					 FontSize="22" Foreground="#CCCCCC" Margin="0,2,0,0"/>

				<TextBlock x:Name="VoiceSynthText"
					Text="🔊 Voice synth: none"
					FontSize="22"
					Foreground="#CCCCCC" 
					Margin="0,2,0,0"/>

				<TextBlock x:Name="UptimeText"
					 Text="🟢 Uptime: 0h 0m 0s"
					 FontSize="22" 
					 Foreground="#CCCCCC" 
					 Margin="0,2,0,0"/>

				<TextBlock Text="🗓 Version: v1.0.0" 
                   FontSize="22" Foreground="#CCCCCC" Margin="0,2,0,0"/>
			</StackPanel>
		</Border>

		<!-- Main Content -->
		<StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Height="487" Width="300" Margin="1125,41,0,0">
			<Grid Width="300" Height="380">
				<!-- Outer Housing -->
				<Border Width="300" Height="380" Background="#2A2A2A" CornerRadius="60"
                        BorderBrush="#666" BorderThickness="6">
					<Border.Effect>
						<DropShadowEffect BlurRadius="35" Color="Black" ShadowDepth="4" Opacity="0.7"/>
					</Border.Effect>
				</Border>

				<!-- Inner Frame -->
				<Border Width="260" Height="340" Background="#3A3A3A" CornerRadius="50"
                        BorderBrush="#888" BorderThickness="4"/>

				<!-- Glow Ring -->
				<Ellipse Width="180" Height="200" Fill="#101820"
                         Stroke="{StaticResource RingBrush}" StrokeThickness="5">
					<Ellipse.Effect>
						<DropShadowEffect BlurRadius="30" Color="#99CCFF" ShadowDepth="0" Opacity="0.8"/>
					</Ellipse.Effect>
				</Ellipse>

				<!-- Iris -->
				<Ellipse x:Name="EyeIris" Width="85" Height="95" Fill="{StaticResource IrisBrush}">
					<Ellipse.RenderTransform>
						<TransformGroup>
							<ScaleTransform x:Name="IrisScale" ScaleX="1" ScaleY="0"/>
							<TranslateTransform x:Name="IrisMoveTransform" X="0" Y="0"/>
						</TransformGroup>
					</Ellipse.RenderTransform>
					<Ellipse.Effect>
						<DropShadowEffect Color="#FF9900" BlurRadius="40" ShadowDepth="0" Opacity="1"/>
					</Ellipse.Effect>
				</Ellipse>

				<!-- Inner Core -->
				<Ellipse Width="30" Height="35" Fill="#FFFFAA" Opacity="0.4"
                         HorizontalAlignment="Center" VerticalAlignment="Center">
					<Ellipse.Effect>
						<BlurEffect Radius="15"/>
					</Ellipse.Effect>
				</Ellipse>

				<!-- Shine Overlay -->
				<Rectangle Width="300" Height="380" Fill="#20FFFFFF"
                           RenderTransformOrigin="0.5,0.5" IsHitTestVisible="False">
					<Rectangle.RenderTransform>
						<TransformGroup>
							<ScaleTransform/>
							<SkewTransform/>
							<RotateTransform Angle="0.648"/>
							<TranslateTransform/>
						</TransformGroup>
					</Rectangle.RenderTransform>
					<Rectangle.Effect>
						<BlurEffect Radius="40"/>
					</Rectangle.Effect>
				</Rectangle>

				<!-- Glint -->
				<Ellipse Width="12" Height="12" Fill="DarkRed"
                         HorizontalAlignment="Left" VerticalAlignment="Top"
                         Margin="206,274,0,0"/>
			</Grid>

			<!-- Loading Bar -->
			<ProgressBar x:Name="LoadingProgressBar"
                         Height="10" Width="200" Margin="0,20,0,0"
                         Foreground="#99CCFF" Background="#2A2A2A"
                         IsIndeterminate="True" Visibility="Hidden"/>

			<!-- Speech Overlay -->

		</StackPanel>

		<!-- Speech Overlay -->
		<Border x:Name="SpeechOverlay"
			CornerRadius="8"
			Padding="12"
			Margin="201,453,85,0"
			VerticalAlignment="Top"
			Opacity="0" Height="116" Grid.RowSpan="2">
			<Border.Effect>
				<DropShadowEffect BlurRadius="10" Color="Black" Opacity="0.7" ShadowDepth="2"/>
			</Border.Effect>
			<TextBlock x:Name="SpeechOverlayText"
               Text=""
               FontSize="25"
               FontWeight="SemiBold"
               Foreground="White"
               TextWrapping="Wrap"
               TextAlignment="Center"
               HorizontalAlignment="Stretch"
               MaxWidth="1054"/>
		</Border>


		<!-- Voice Input -->
		<Grid Grid.Row="1" VerticalAlignment="Top" Margin="260,241,155,0">
			<TextBox x:Name="VoiceInputTextBox"
			 Margin="4,0,1,-15"
	         Height="90"
	         FontSize="25"
	         Padding="8"
	         Background="#1A1A1A"
	         Foreground="White"
	         BorderBrush="#99CCFF"
	         BorderThickness="2"
	         TextWrapping="Wrap"
	         AcceptsReturn="False"
	         VerticalAlignment="Center"
	         Visibility="Collapsed"
	         KeyDown="VoiceInputTextBox_KeyDown"
	       />
		</Grid>

	</Grid>
</Window>